# 对称加密
经典例子：

期末考试，你成绩好，我成绩不好，我想抄你的答案又不想老师发现，就约定左眼选A，右眼选B，左耳选C，右耳选D

上述咱俩的约定就是**对称加密算法**，只需要一个key（约定），你和我就都知道是什么意思。你可以把它叫公钥，也可以叫私钥，也能叫秘钥

# 非对称加密
例子：

app要上传账号密码，和服务器数据库比对，成功则进入程序。但是app比较简单，别人反编译后就知道app和服务器的秘钥，然后就能破解用户输入的账号和密码。为了应对这种情况，服务器生成一个"私钥-公钥对"，
私钥存放在服务器上，公钥加密的数据只能通过私钥解密。在进入app时请求接口返回公钥，提交账号密码时用公钥加密，在服务器上用私钥解密，这样就算别人知道公钥，也不知道私钥，就加大了破解难度。

上述私钥-公钥对就算**非对称加密算法**，这种加密是单向的

# 证书
在上面非对称加密算法例子中，其实是存在一个隐患的：app请求公钥接口被黑客中间人攻击，返回的是黑客的公钥，那么上传账号密码时就用黑客的公钥加密数据，黑客也就能知道账号密码了

咋办？

仔细考虑下，我们需要做的是`如何判断公钥来自于服务器而不是黑客`。这种情况，**证书**就出来了。顾名思义，证书的作用就是证明某样东西是有效的，并且有提供证书机构的证书签名，那么在加密中，证书的作用是
`证明服务器就是服务器而不是黑客`，那么你可能又会想到：我咋知道证书是不是伪造的？~~（毕竟2020年8月20号还有人伪造清华录取通知书）~~，这里就用到了提供证书（CA）机构提供的另一个东西：他们的公钥。

在加密中，证书里的签名不是普通的签名，而是`电子签名`，另外要知道一点，证书的提供者也有自己的"私钥-公钥对"，证书机构把密文用私钥加密，然后这个密文就被当做电子签名签在证书上，此时这个证书
叫`电子证书`，公证处的公钥也被称为：`根证书`。整个证书运作流程大致如下：

0. 手机厂商默认安装一些公证处的根证书（公钥）
1. 服务器把自个的公钥和其他一些信息交给公证处，公证处查验无误后生成电子证书
2. app请求接口返回服务器的公钥和电子证书
3. 由于自身安装了公证处的根证书，通过根证书解密返回的电子证书，对比解密的信息
4. 如果不一致就xxxxxxxxx

那么你可能又会想：如果黑客🐂🍺，把公证处的电子证书给劫持了那么是不是账号密码又让黑客知道了？

上面我们说过，公证处私钥加密的电子签名里是服务器的公钥，而我们上传账号密码时用的也是公证处公钥解密证书后获取的服务器公钥，即使电子证书被劫持，我们上传的账号密码也是只能用服务器的私钥来解密的

