## 前言
存储访问的两大类作用：为了 `效率和平衡`、`复用和隐私`
## 分类
### 私有目录
存放某app私有的缓存、配置、私密信息的目录；**当app被卸载时，私有目录会被清空**  
为了缓存大文件，安卓提供`内部空间`和`外部空间`，大文件存储在`外部空间`
```kotlin
        //内部空间的私有目录
        Log.e("TOP_LEVEL", "=====================path=====================")
        Log.e("TOP_LEVEL", context.cacheDir.path)
        Log.e("TOP_LEVEL", context.dataDir.path)
        Log.e("TOP_LEVEL", context.filesDir.path)
        Log.e("TOP_LEVEL", "${context.getDir("test.txt", Context.MODE_PRIVATE)?.path}")
        Log.e("TOP_LEVEL", "${context.externalCacheDir?.path}")
        Log.e("TOP_LEVEL", "${context.obbDir?.path}")
        //↓当传参为null时，获取到的为该目录本身，否则为该目录下的指定子目录
        Log.e("TOP_LEVEL", "${context.getExternalFilesDir(null)?.path}")
        //外部空间的私有目录
        Log.e("TOP_LEVEL", "=====================absolutePath=====================")
        Log.e("TOP_LEVEL", context.cacheDir.absolutePath)
        Log.e("TOP_LEVEL", context.dataDir.absolutePath)
        Log.e("TOP_LEVEL", context.filesDir.absolutePath)
        Log.e("TOP_LEVEL", "${context.getDir("test.txt", Context.MODE_PRIVATE)?.absolutePath}")
        Log.e("TOP_LEVEL", "${context.externalCacheDir?.absolutePath}")
        Log.e("TOP_LEVEL", "${context.obbDir?.absolutePath}")
        //↓当传参为null时，获取到的为该目录本身，否则为该目录下的指定子目录
        Log.e("TOP_LEVEL", "${context.getExternalFilesDir(null)?.absolutePath}")
        
        输出为：
        
        E/TOP_LEVEL: =====================path=====================
        E/TOP_LEVEL: /data/user/0/com.lanier.ericfileprovider/cache
        E/TOP_LEVEL: /data/user/0/com.lanier.ericfileprovider
        E/TOP_LEVEL: /data/user/0/com.lanier.ericfileprovider/files
        E/TOP_LEVEL: /data/user/0/com.lanier.ericfileprovider/app_test.txt
        E/TOP_LEVEL: /storage/emulated/0/Android/data/com.lanier.ericfileprovider/cache
        E/TOP_LEVEL: /storage/emulated/0/Android/obb/com.lanier.ericfileprovider
        E/TOP_LEVEL: /storage/emulated/0/Android/data/com.lanier.ericfileprovider/files
        E/TOP_LEVEL: =====================absolutePath=====================
        E/TOP_LEVEL: /data/user/0/com.lanier.ericfileprovider/cache
        E/TOP_LEVEL: /data/user/0/com.lanier.ericfileprovider
        E/TOP_LEVEL: /data/user/0/com.lanier.ericfileprovider/files
        E/TOP_LEVEL: /data/user/0/com.lanier.ericfileprovider/app_test.txt
        E/TOP_LEVEL: /storage/emulated/0/Android/data/com.lanier.ericfileprovider/cache
        E/TOP_LEVEL: /storage/emulated/0/Android/obb/com.lanier.ericfileprovider
        E/TOP_LEVEL: /storage/emulated/0/Android/data/com.lanier.ericfileprovider/files
```
注意点:  
1. 内部空间返回的目录只有自己的app能访问(一般情况下)
2. 外部空间的私有目录无需申请运行时权限
3. 访问外部空间的公有目录需要权限(除使用访问框架外)
4. 通过安卓提供的访问框架(Storage Access Framework，存储访问框架)访问无需权限，但框架UI不可定制
### 公有目录
存放可复用的文件，比如图片等，使用`Enviorment.getExternalxxx()`相关方法返回，若不使用访问框架则需要动态申请权限  
Environment.getExternalStorageDirectory()和getExternalStoragePublicDirectory()已被废弃，使用Context.getExternalFilesDir()代替，即为上述输出的最后一条 
```kotlin
        Log.e("TOP_LEVEL", Environment.getRootDirectory().absolutePath)
        Log.e("TOP_LEVEL", Environment.getDataDirectory().absolutePath)
        Log.e("TOP_LEVEL", Environment.getDownloadCacheDirectory().absolutePath)
        
        输出为：
        
        E/TOP_LEVEL: /system
        E/TOP_LEVEL: /data
        E/TOP_LEVEL: /data/cache
```

